# Documentation Reorganization Plan

**Date:** December 11, 2025  
**Current State:** 64+ session documents, scattered organization  
**Goal:** Practical, grounded documentation structure

---

## Current Problems

1. **64 session documents** across 4 recent sessions
2. **Redundant names** (4× SESSION_SUMMARY.md, 3× README.md)
3. **Topic fragmentation** (8+ Z3 files, scattered parser docs)
4. **No clear entry points** for different audiences
5. **Session-based** organization (temporal, not topical)

**Result:** Hard to find information, overwhelming for newcomers

---

## Proposed Structure

### User-Facing Documentation

**1. User Manual** (`docs/user-manual/`)
- Getting Started
- Equation Editor Guide
- Kleis Language Basics
- Type System for Users
- Common Operations
- Troubleshooting

**2. Theory Guide** (`docs/theory-guide/`)
- POT (Projected Ontology Theory)
- HONT (Hilbert Ontology)
- Mathematical Foundations
- Example Theories
- Writing Your Own Theory

**3. API Reference** (`docs/api/`)
- HTTP Server API
- Kleis Language Reference
- stdlib Documentation (generated by kleis_doc)
- Operation Catalog

---

### Developer Documentation

**4. Developer Guide** (`docs/developer-guide/`)
- Architecture Overview
- Contributing Guidelines
- Adding Operations
- Extending Parser
- Testing Guide
- Code Organization

**5. Architecture** (`docs/architecture/`)
- System Design
- Type System Implementation
- Z3 Integration
- Renderer Architecture
- Parser Implementation
- Consolidate ADRs here

**6. Verification Guide** (`docs/verification/`)
- Z3 Integration Guide
- Axiom Verification
- Proof Testing
- Mathematical Rigor

---

### Supporting Documentation

**7. Reference** (`docs/reference/`) - Keep existing
- Grammar specifications
- Notation guide
- Complete operation list

**8. Archive** (`docs/archive/`) - Keep existing
- Historical sessions
- Old analyses
- Deprecated approaches

---

## Migration Strategy

### Phase 1: Create Structure (30 min)
```bash
mkdir -p docs/{user-manual,theory-guide,api,developer-guide,architecture,verification}
```

### Phase 2: Consolidate by Topic (2-3 hours)

**Z3 Integration** → `docs/verification/Z3_INTEGRATION_GUIDE.md`
- Source: 8+ Z3 files from session-2025-12-10/
- Content: Architecture, testing, dependency loading, proof examples
- Single comprehensive guide

**Parser** → `docs/developer-guide/PARSER_GUIDE.md`
- Source: PARSER_TODO.md, parser-implementation/ docs, session parser docs
- Content: Current status, adding features, grammar coverage

**Type System** → `docs/architecture/TYPE_SYSTEM.md`
- Source: type-system/ folder, session docs about types
- Content: Implementation, inference, structures, constraints

**Getting Started** → `docs/user-manual/GETTING_STARTED.md`
- Source: README.md Quick Start, session getting started docs
- Content: Installation, first formula, basic concepts

**Equation Editor** → `docs/user-manual/EQUATION_EDITOR.md`
- Source: PALETTE_COMPLETE_GUIDE.md, session editor docs
- Content: Using the editor, palette, keyboard shortcuts

**Theory Development** → `docs/theory-guide/WRITING_THEORIES.md`
- Source: Session docs about POT/HONT, structure definitions
- Content: How to write .kleis theories, verify axioms, use in notebook

### Phase 3: Session Cleanup (1 hour)

**For each session:**
- Keep: One-page README.md with date, summary, achievements
- Delete: Redundant summaries, detailed docs (moved to topics)
- Result: Clean, minimal session history

**Move old sessions to archive:**
- Session > 2 weeks old → docs/archive/sessions/
- Keep last 2-3 sessions in docs/

### Phase 4: Update Navigation (30 min)

**Update docs/README.md:**
```markdown
# Kleis Documentation

## For Users
- [Getting Started](user-manual/GETTING_STARTED.md)
- [Equation Editor Guide](user-manual/EQUATION_EDITOR.md)
- [Kleis Language Tutorial](user-manual/LANGUAGE_TUTORIAL.md)
- [API Reference](api/)

## For Theory Developers
- [Writing Theories in Kleis](theory-guide/WRITING_THEORIES.md)
- [POT/HONT Guide](theory-guide/)
- [Verification with Z3](verification/Z3_INTEGRATION_GUIDE.md)

## For Contributors
- [Developer Guide](developer-guide/)
- [Architecture Documentation](architecture/)
- [Adding Features](developer-guide/CONTRIBUTING.md)

## Reference
- [Grammar Specification](grammar/)
- [Operation Catalog](reference/)
- [ADRs](architecture/adrs/)
```

---

## New Documentation We Should Create

### User Manual Content

**1. GETTING_STARTED.md**
- Install, run server, first formula
- 15 min to productive

**2. EQUATION_EDITOR.md**
- Using structural editor
- Palette navigation
- Matrix Builder
- Tips & tricks

**3. LANGUAGE_TUTORIAL.md**
- Basic syntax
- Defining structures
- Writing axioms
- Implementations

**4. TYPE_SYSTEM_FOR_USERS.md**
- What are structures?
- How type inference helps
- Understanding error messages
- When to use where clauses

### Theory Guide Content

**5. WRITING_THEORIES.md**
- Structure definitions
- Axiom specification
- Verification workflow
- Examples (Ring, VectorSpace, etc.)

**6. POT_GUIDE.md**
- Projected Ontology Theory intro
- Key concepts
- Example: Galactic velocities
- Executable predictions

**7. HONT_GUIDE.md**
- Hilbert Ontology intro
- R⁴ projections
- Formal structures
- Examples

### Developer Guide Content

**8. ARCHITECTURE_OVERVIEW.md**
- System components
- Data flow
- Key design decisions

**9. CONTRIBUTING.md**
- Code style
- Testing requirements
- PR process
- Quality gates

**10. PARSER_DEVELOPMENT.md**
- Current coverage
- Adding features
- Grammar compliance

---

## Estimated Effort

**Consolidation:** 3-4 hours
- Merge session docs into topic docs
- Delete redundancy
- Update navigation

**New content:** 4-6 hours
- Write missing user/developer guides
- Organize by audience
- Add examples and tutorials

**Total:** 7-10 hours (could span 2-3 sessions)

---

## Priority Recommendation

**Next session (2-3 hours):**
1. Consolidate Z3 docs → verification/Z3_INTEGRATION_GUIDE.md
2. Consolidate session summaries → DECEMBER_2025_WORK.md
3. Create docs/README.md navigation
4. Clean up session folders

**Future session:**
5. Write user manual chapters
6. Create theory development guide
7. Polish developer documentation

---

## Benefits

- ✅ Clear entry points by audience
- ✅ No redundancy
- ✅ Professional presentation
- ✅ Ready for external users
- ✅ Foundation for Kleis Notebook docs

**From session notes → Production documentation**

---

**This aligns with:** Kleis maturing from research project to usable system. Documentation should reflect that maturity.

