// ============================================================================
// KleisDoc - Auto-generated document file
// ============================================================================
//
// This file was generated by KleisDoc Python API.
// It can be loaded back into KleisDoc for continued editing.
//
// ============================================================================

import "examples/documents/kleisdoc_types.kleis"

// ----------------------------------------------------------------------------
// Document Metadata
// ----------------------------------------------------------------------------

define meta_title = "Full Round-Trip Test"
define meta_author = "Test Author"
define meta_abstract = "This is a test abstract."

// ----------------------------------------------------------------------------
// Equations (with EditorNode AST for re-editing)
// ----------------------------------------------------------------------------

define eq_test = Equation(
    id = "eq_0",
    label = "eq:test",
    latex = "",
    typst = "",
    ast = EObject("x"),
    numbered = true,
    verified = false
)

// ----------------------------------------------------------------------------
// Figures (with Kleis code for regeneration)
// ----------------------------------------------------------------------------

define fig_test = Figure(
    id = "fig_0",
    label = "fig:test",
    caption = "Test caption",
    source = Regenerable("plot()", List()),
    typst_fragment = "",
    svg_cache = ""
)

// ----------------------------------------------------------------------------
// Document Structure
// ----------------------------------------------------------------------------

define section_0 = Section(
    level = 1,
    title = "Introduction",
    label = None,
    content = List(Text("Intro text"), EqRef("eq:test"), FigRef("fig:test"))
)

define section_1 = Section(
    level = 1,
    title = "Methods",
    label = None,
    content = List(Text("Methods text"))
)

// ----------------------------------------------------------------------------
// Document Assembly
// ----------------------------------------------------------------------------

define document = KleisDoc(
    metadata = doc_metadata,
    equations = List(eq_test),
    figures = List(fig_test),
    sections = List(section_0, section_1)
)
